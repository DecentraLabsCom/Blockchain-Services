# Server configuration
base.domain=https://sarlab.dia.uned.es

# Auth base path for issuer URLs
auth.base-path=/auth

# Endpoint paths
endpoint.health=/health
endpoint.wallet-auth=/auth/wallet-auth
endpoint.wallet-auth2=/auth/wallet-auth2
endpoint.saml-auth=/auth/saml-auth
endpoint.saml-auth2=/auth/saml-auth2
endpoint.jwks=/auth/jwks
endpoint.message=/auth/message
endpoint.wallet=/wallet

server.tomcat.uri-encoding=UTF-8
spring.jndi.ignore=true

# Set the server port to 8080 (default)
server.port=8080

# Enable debugging for Spring Boot logs
#logging.level.org.springframework=DEBUG
#logging.level.org.springframework.web=DEBUG

# Blockchain and smart contract configuration
contract.address=0xC332F296d698bb05Fbad7863131F36085F6ce66d
rpc.url=https://ethereum-sepolia-rpc.publicnode.com
wallet.address=0x183F062B6A8C39B9A9e71898741ACf8f25E11561
# TODO: Add private key if needed
wallet.private.key=0xPrivateKey

# JWT Encryption configuration
private.key.path=/home/luis/auth-service-keys/private_key.pem
public.key.path=/home/luis/auth-service-keys/public_key.pem
public.certificate.path=/home/luis/auth-service-keys/certificate.pem

# Spring Security configuration - TODO: check for production
allowed-origins=http://localhost:3000,https://marketplace-decentralabs.vercel.app

# Marketplace JWT authentication
# URL where the marketplace exposes its public key for JWT validation
marketplace.public-key-url=https://marketplace-decentralabs.vercel.app/.well-known/public-key.pem

# Security Notes:
# 1. The marketplace.public-key-url should serve a PEM-encoded RSA public key
# 2. The marketplace endpoint should be secured with HTTPS
# 3. The auth-service will cache the public key for 24 hours and refresh on signature failures
# 4. JWTs from marketplace should include user claims like:
#    - sub: user identifier
#    - email: user email
#    - uid: user ID from SAML
#    - displayName: user display name
#    - schacHomeOrganization: user affiliation
#    - eduPersonAffiliation: user role
#    - eduPersonScopedAffiliation: scoped role
# 5. Example marketplace public key endpoint format:
#    GET https://marketplace-decentralabs.vercel.app/.well-known/public-key.pem
#    Content-Type: text/plain
#    Response: -----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFA...\n-----END PUBLIC KEY-----

# Wallet Service Configuration
# Encryption settings for wallet private keys
wallet.encryption.salt=DecentraLabs2025

# Optional network-specific RPC configurations (if not set, use default values)
# These configurations are used in both auth and wallet when available
ethereum.mainnet.rpc.url=https://mainnet.infura.io/v3/YOUR_PROJECT_ID
ethereum.sepolia.rpc.url=https://sepolia.infura.io/v3/YOUR_PROJECT_ID
ethereum.goerli.rpc.url=https://goerli.infura.io/v3/YOUR_PROJECT_ID

# Wallet security settings
wallet.max.transactions.per.hour=100
wallet.max.balance.checks.per.minute=60

# Gas price settings (in gwei)
ethereum.gas.price.default=0.3
ethereum.gas.limit.default=21000
ethereum.gas.limit.contract=100000

# Contract Event Listening Configuration
# Events to listen for from the Diamond contract (comma-separated)
contract.events.to.listen=ReservationCreated,ReservationUpdated,ReservationCancelled

# Event listening settings
contract.event.listening.enabled=true
contract.event.start.block=latest